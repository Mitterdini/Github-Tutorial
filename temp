from sys import argv
from os import system
script, filename = argv


def checker(file, output):
    checking = file.read()
    if checking:
        checking = checking.replace("[1;33mmitterdiggity[0;36m", "mitterdiggity")
        output.write(checking)
        return checker()

target = open(filename)
new = "new_"+filename; new_target = open(new, 'r+')

print("Replacing...\n")

checker(target, new_target)
target.close()
os.system(f"rm {filename}")

final = new.strip("new_"); final_target = open(final, 'w')
checker(new_target, final_target)
new_target.close()
os.system(f"rm {new}")
final_target.close()

print('Done.')
